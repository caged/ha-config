- alias: Turn on office heater on workdays when we wake up
  trigger:
    platform: state
    entity_id: binary_sensor.awake
    to: "on"
  condition:
    - condition: state
      entity_id: binary_sensor.workday_sensor
      state: "on"
  action:
    service: switch.turn_on
    entity_id: switch.office_wemo

- alias: Turn off office heater when office is unoccupied for an hour
  trigger:
    platform: state
    entity_id: binary_sensor.office_occupancy
    to: "off"
    for:
      hours: 1
  action:
    service: switch.turn_off
    entity_id: switch.office_wemo
- alias: Ping me when it gets too hot in my office
  trigger:
    platform: numeric_state
    entity_id: sensor.office_temperature
    above: 78
    for:
      minutes: 15
  action:
    service: notify.mobile_app_justin_palmers_iphone
    data_template:
      title: "It's hot in your office"
      message: "It's {{ sensor.office_temperature }}ยบ in your office.  It's been above 78ยบ for 15 minutes."
# - alias: Turn off office heater when temp in office stays above 73
#   trigger:
#     platform: numeric_state
#     entity_id: sensor.justin_s_office_temperature
#     above: 73
#     for:
#       minutes: 15
#   action:
#     service: switch.turn_off
#     entity_id: switch.office_wemo
